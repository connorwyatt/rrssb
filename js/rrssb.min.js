+function(e){"use strict";function s(e,s,n){var r="";if(e instanceof Array)if(e.length>0)for(var t=0;t<e.length;t++)try{r+=a[e[t]](s,n)}catch(o){console.error("[RRSSB]: "+e[t]+" is not a valid social network.")}else console.error("[RRSSB]: The socialNetworks property cannot be empty.");else console.error("[RRSSB]: The socialNetworks property in the options should be an array.");return r}function n(s){for(var n=s.find("li"),t=0;t<n.length;t++){var a=e(n[t]).prop("class").replace("rrssb-",""),o=e(n[t]).find(".rrssb-icon");r(a,o)}}function r(s,n){e.ajax({url:options.iconsLocation+s+".min.svg",contentType:"text/plain",success:function(s){n.html(e(s).children()[0].outerHTML)}})}function t(e,s){console.log(e);var n=0;for(var r in e)e.hasOwnProperty(r)&&(isNaN(parseInt(e[r]))||(n+=e[r]));1e6>n&&n>=1e3?(n=1100>n?1:(n/1e3).toFixed(1),n+="K",n.replace(/\.0$/,""),console.log(n)):n>=1e6&&(n=11e5>n?1:(n/1e6).toFixed(1),n+="M",console.log(n)),s.text(n)}e.fn.rrssb=function(r){this.empty();for(var t={},a=e("meta"),o=0;o<a.length;o++)"description"===a[o].name&&(t.description=a[o].content);if(void 0===r.iconsLocation?r.iconsLocation="/images/rrssb/":null,void 0===r.url?r.url=window.location.href:null,void 0===r.pageName?r.pageName=document.title:null,void 0===r.pageDescription?r.pageDescription=t.description:null,void 0===r.emailSubject?r.emailSubject=r.pageName:null,void 0===r.emailBody?r.emailBody="Check out this page: "+r.pageDescription+" - "+r.url:null,void 0===r.twitterStatus){var i=r.pageName.substring(0,115);r.twitterStatus=i+" - "+r.url}void 0===r.googleplusStatus?r.googleplusStatus=r.pageName+" - "+r.url:null,void 0===r.githubLink?r.githubLink="https://github.com/":null,void 0===r.tumblrName?r.tumblrName=r.pageName:null,void 0===r.linkedinTitle?r.linkedinTitle=r.pageName:null,void 0===r.linkedinSummary?r.linkedinSummary=r.pageDescription:null,void 0===r.redditTitle?r.redditTitle=r.pageName:null,void 0===r.redditText?r.redditText=r.pageDescription:null,void 0===r.hackernewsTitle?r.hackernewsTitle=r.pageName:null,void 0===r.hackernewsText?r.hackernewsText=r.pageDescription:null,void 0===r.youtubeUrl?r.youtubeUrl="https://www.youtube.com":null,void 0===r.pinterestMedia?r.pinterestMedia="":null,void 0===r.pinterestDescription?r.pinterestDescription=r.pageDescription:null,console.log(r);var p={},l=this;l.addClass("clearfix"),r.showCount&&l.append("<div class='rrssb-count'><div class='rrssb-number'></div><div class='rrssb-shares'>shares</div></div>");var c=l.find(".rrssb-number");l.append("<ul class='rrssb-buttons'></ul>");var u=l.find(".rrssb-buttons");r.showCount&&u.addClass("rrssb-withcount");var d=s(r.socialNetworks,p,c);u.append(d),n(u)};var a={};a.email=function(){var s=e("<li class='rrssb-email'></li>"),n="mailto:?subject="+encodeURI(options.emailSubject)+'&amp;body="'+encodeURI(options.emailBody);s.append("<a href='"+n+"'></a>");var r=s.find("a");return r.append("<span class='rrssb-icon'></span>"),r.append("<span class='rrssb-text'>email</span>"),s[0].outerHTML},a.facebook=function(s,n){var r=e("<li class='rrssb-facebook'></li>"),a="https://www.facebook.com/sharer/sharer.php?u="+encodeURI(options.url);r.append("<a href='"+a+"' class='popup'></a>");var o=r.find("a");return o.append("<span class='rrssb-icon'></span>"),o.append("<span class='rrssb-text'>facebook</span>"),options.showCount&&e.ajax({url:"http://graph.facebook.com/?id="+options.url,dataType:"jsonp",success:function(e){console.log(e),s.facebook=e.shares,t(s,n)},error:function(){console.error("[RRSSB]: There was an error getting share count data from Facebook. It may not be included in the count.")}}),r[0].outerHTML},a.tumblr=function(){var s=e("<li class='rrssb-tumblr'></li>"),n="http://tumblr.com/share/link?url="+encodeURI(options.url)+"&name="+encodeURI(options.tumblrName);s.append("<a href='"+n+"'></a>");var r=s.find("a");return r.append("<span class='rrssb-icon'></span>"),r.append("<span class='rrssb-text'>tumblr</span>"),s[0].outerHTML},a.linkedin=function(s,n){var r=e("<li class='rrssb-linkedin'></li>"),a="http://www.linkedin.com/shareArticle?mini=true&amp;url="+encodeURI(options.url)+"&amp;title="+encodeURI(options.linkedinTitle)+"&amp;summary="+encodeURI(options.linkedinSummary);r.append("<a href='"+a+"' class='popup'></a>");var o=r.find("a");return o.append("<span class='rrssb-icon'></span>"),o.append("<span class='rrssb-text'>linkedin</span>"),options.showCount&&e.ajax({url:"http://www.linkedin.com/countserv/count/share?url="+options.url,dataType:"jsonp",success:function(e){console.log(e),s.linkedin=e.shares,t(s,n)},error:function(){console.error("[RRSSB]: There was an error getting share count data from LinkedIn. It may not be included in the count.")}}),r[0].outerHTML},a.twitter=function(s,n){var r=e("<li class='rrssb-twitter'></li>"),a="http://twitter.com/home?status="+encodeURI(options.twitterStatus);r.append("<a href='"+a+"' class='popup'></a>");var o=r.find("a");return o.append("<span class='rrssb-icon'></span>"),o.append("<span class='rrssb-text'>twitter</span>"),options.showCount&&e.ajax({url:"http://cdn.api.twitter.com/1/urls/count.json?url="+options.url,dataType:"jsonp",success:function(e){console.log(e),s.twitter=e.count,t(s,n)},error:function(){console.error("[RRSSB]: There was an error getting share count data from Twitter. It may not be included in the count.")}}),r[0].outerHTML},a.reddit=function(){var s=e("<li class='rrssb-reddit'></li>"),n="http://www.reddit.com/submit?url="+encodeURI(options.url)+"&title="+encodeURI(options.redditTitle)+"&text="+encodeURI(options.redditText);s.append("<a href='"+n+"'></a>");var r=s.find("a");return r.append("<span class='rrssb-icon'></span>"),r.append("<span class='rrssb-text'>reddit</span>"),s[0].outerHTML},a.hackernews=function(){var s=e("<li class='rrssb-hackernews'></li>"),n="https://news.ycombinator.com/submitlink?u="+encodeURI(options.url)+"&t="+encodeURI(options.hackernewsTitle)+"&text="+encodeURI(options.hackernewsText);s.append("<a href='"+n+"'></a>");var r=s.find("a");return r.append("<span class='rrssb-icon'></span>"),r.append("<span class='rrssb-text'>hackernews</span>"),s[0].outerHTML},a.googleplus=function(){var s=e("<li class='rrssb-googleplus'></li>"),n="https://plus.google.com/share?url="+encodeURI(options.googleplusStatus);s.append("<a href='"+n+"' class='popup'></a>");var r=s.find("a");return r.append("<span class='rrssb-icon'></span>"),r.append("<span class='rrssb-text'>google+</span>"),s[0].outerHTML},a.youtube=function(){var s=e("<li class='rrssb-youtube'></li>");s.append("<a href='"+options.youtubeUrl+"'></a>");var n=s.find("a");return n.append("<span class='rrssb-icon'></span>"),n.append("<span class='rrssb-text'>youtube</span>"),s[0].outerHTML},a.pinterest=function(s,n){var r=e("<li class='rrssb-pinterest'></li>"),a="http://pinterest.com/pin/create/button/?url="+encodeURI(options.url)+"&amp;media="+encodeURI(options.pinterestMedia)+"&amp;description="+encodeURI(options.pinterestDescription);r.append("<a href='"+a+"'></a>");var o=r.find("a");return o.append("<span class='rrssb-icon'></span>"),o.append("<span class='rrssb-text'>pinterest</span>"),options.showCount&&e.ajax({url:"http://api.pinterest.com/v1/urls/count.json?url="+options.url,dataType:"jsonp",success:function(e){console.log(e),s.pinterest=e.count,t(s,n)},error:function(){console.error("[RRSSB]: There was an error getting share count data from Pinterest. It may not be included in the count.")}}),r[0].outerHTML},a.pocket=function(){var s=e("<li class='rrssb-pocket'></li>"),n="https://getpocket.com/save?url="+encodeURI(options.url);s.append("<a href='"+n+"'></a>");var r=s.find("a");return r.append("<span class='rrssb-icon'></span>"),r.append("<span class='rrssb-text'>pocket</span>"),s[0].outerHTML},a.github=function(){var s=e("<li class='rrssb-github'></li>");s.append("<a href='"+encodeURI(options.githubLink)+"'></a>");var n=s.find("a");return n.append("<span class='rrssb-icon'></span>"),n.append("<span class='rrssb-text'>github</span>"),s[0].outerHTML},a.vk=function(){var s=e("<li class='rrssb-vk'></li>"),n="http://vk.com/share.php?url="+encodeURI(options.url);s.append("<a href='"+n+"' class='popup'></a>");var r=s.find("a");return r.append("<span class='rrssb-icon'></span>"),r.append("<span class='rrssb-text'>vk</span>"),s[0].outerHTML}}(jQuery);